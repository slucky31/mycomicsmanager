@page "/stats"

@using MyComicsManagerWeb.Services
@inject ComicService ComicService


<MudContainer MaxWidth="MaxWidth.False" >
    
    <NavMenu/>
    <MudGrid>
        <MudItem xs="12" sm="3">
            <MudCard>
                <MudCardContent>
                    <MudText Typo="Typo.h5">Comics</MudText>
                    <MudText Typo="Typo.h1">@_nbComics</MudText>
                </MudCardContent>
                <MudCardActions>
                    <MudButton Variant="Variant.Text" Color="Color.Primary">Liste</MudButton>
                </MudCardActions>
            </MudCard>
        </MudItem>
        <MudItem xs="12" sm="3">
            <MudCard>
                <MudCardContent>
                    <MudText Typo="Typo.h5">Comics sans série</MudText>
                    <MudText Typo="Typo.h1">@_nbComicsWithoutSerie</MudText>
                </MudCardContent>
                <MudCardActions>
                    <MudButton Variant="Variant.Text" Color="Color.Primary">Liste</MudButton>
                </MudCardActions>
            </MudCard>
        </MudItem>
        <MudItem xs="12" sm="3">
            <MudCard>
                <MudCardContent>
                    <MudText Typo="Typo.h5">Comics sans ISBN</MudText>
                    <MudText Typo="Typo.h1">@_nbComicsWithoutIsbn</MudText>
                </MudCardContent>
                <MudCardActions>
                    <MudButton Variant="Variant.Text" Color="Color.Primary">Liste</MudButton>
                </MudCardActions>
            </MudCard>
        </MudItem>
        <MudItem xs="12" sm="3">
            <MudCard>
                <MudCardContent>
                    <MudText Typo="Typo.h5">Comics lus</MudText>
                    <MudText Typo="Typo.h1">@_nbComicsRead</MudText>
                </MudCardContent>
                <MudCardActions>
                    <MudButton Variant="Variant.Text" Color="Color.Primary">Liste</MudButton>
                </MudCardActions>
            </MudCard>
        </MudItem>
        <MudItem xs="12" sm="3">
            <MudCard>
                <MudCardContent>
                    <MudText Typo="Typo.h5">Comics à lire</MudText>
                    <MudText Typo="Typo.h1">@_nbComicsUnRead</MudText>
                </MudCardContent>
                <MudCardActions>
                    <MudButton Variant="Variant.Text" Color="Color.Primary">Liste</MudButton>
                </MudCardActions>
            </MudCard>
        </MudItem>
        <MudItem xs="12" sm="3">
            <MudCard>
                <MudCardContent>
                    <MudText Typo="Typo.h5">Séries</MudText>
                    <MudText Typo="Typo.h1">@_nbSeries</MudText>
                </MudCardContent>
                <MudCardActions>
                    <MudButton Variant="Variant.Text" Color="Color.Primary">Liste</MudButton>
                </MudCardActions>
            </MudCard>
        </MudItem>        
    </MudGrid>
</MudContainer>

@code {

    private long _nbComics;
    private long _nbComicsWithoutSerie;
    private long _nbComicsWithoutIsbn;
    private long _nbComicsRead;
    private long _nbComicsUnRead;
    private long _nbSeries;
   
    protected override async Task OnInitializedAsync()
    {
        _nbComics = await ComicService.GetNbComics();
        _nbComicsWithoutSerie = await ComicService.GetNbComicsWithoutSerie();
        _nbComicsWithoutIsbn = await ComicService.GetNbComicsWithoutIsbn();
        _nbComicsRead = await ComicService.GetNbComicsRead();
        _nbComicsUnRead = await ComicService.GetNbComicsUnRead();
        _nbSeries = await ComicService.GetNbSeries();
    }
    
}