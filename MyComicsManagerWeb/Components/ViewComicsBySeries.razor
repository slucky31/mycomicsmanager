    @using MyComicsManager.Model.Shared
    @using MyComicsManagerWeb.Services
    @inject ComicService ComicService
    @inject LibraryService LibraryService



    @if (SeriesList.Any())
    {
        <MudStack>
            @foreach (var kvp in _comics)
            {
                <MudText>@kvp.Key</MudText>
                @foreach (var comic in kvp.Value)
                {
                    <MudText>@comic.Title</MudText>
                }
            }
        </MudStack>
    }
    else
    {
        <MudProgressCircular Color="Color.Info" Indeterminate="true"/>
    }

    @code {

        [Parameter]
        public List<string> SeriesList { get; set; }
        
        [Parameter]
        public Library Library { get; set; }

        private Dictionary<string, List<Comic>> _comics = new();
        
        protected override async Task OnInitializedAsync()
        {
            foreach (var serie in SeriesList)
            {
                var comicsList = (List<Comic>) await ComicService.FindBySerie(serie,100);
                _comics.Add(serie, comicsList);
            }
        }
        
    }