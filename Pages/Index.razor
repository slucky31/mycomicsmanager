@page "/"

    @using MyComicsManagerWeb.Models
    @using MyComicsManagerWeb.Services

     @inject ComicService ComicService

<MudContainer MaxWidth="MaxWidth.ExtraLarge" Class="mt-4">

    <style>
        .mud-table-cell-custom-group {
            font-weight: 500;
        }

        .mud-table-cell-custom-group-footer {
            padding-bottom: 50px;
            text-align: right;
        }
    </style>


    <MudTable Hover="true" Breakpoint="Breakpoint.Sm" FixedHeader="false"
              Items="@Comics"
              GroupBy="@_groupDefinition"
              GroupHeaderStyle="background-color:var(--mud-palette-background-grey)"
              GroupFooterClass="mb-4"
              Dense="true"
              MultiSelection="false">
        <ColGroup>
            <col />
            <col />
            <col />
        </ColGroup>
        <HeaderContent>
            <MudTh>Serie</MudTh>
            <MudTh>Volume</MudTh>
            <MudTh>Title</MudTh>
        </HeaderContent>
        <GroupHeaderTemplate>
            <MudTh Class="mud-table-cell-custom-group" colspan="5">@($"{context.GroupName}: {context.Key}")</MudTh>
        </GroupHeaderTemplate>
        <RowTemplate>
            <MudTd DataLabel="Série">@context.Serie</MudTd>
            <MudTd DataLabel="Volume">@context.Volume</MudTd>
            <MudTd DataLabel="Title">@context.Title</MudTd>
        </RowTemplate>
        <GroupFooterTemplate>
            <MudTh Class="mud-table-cell-custom-group mud-table-cell-custom-group-footer" colspan="5">Number of Volumes : @context.Items.Count()</MudTh>
        </GroupFooterTemplate>
    </MudTable>

    @code {

        private TableGroupDefinition<Comic> _groupDefinition = new()
        {
            GroupName = "Série",
            Indentation = false,
            Expandable = true,
            Selector = (e) => e.Serie
        };

        private IEnumerable<Comic> Comics = new List<Comic>();

        protected override async Task OnInitializedAsync()
        {
            Comics = await ComicService.GetComics();
        }
    }





















    <div class="item">

        <img src="/covers/oops.png?size=256" /> <!-- Default size equivalent à <img src="/covers/oops.png" /> -->
        <img src="/covers/oops.png?size=128" />
        <img src="/covers/oops.png?size=64" />
        <img src="/covers/oops.png?size=32" />

    </div>

</MudContainer>


